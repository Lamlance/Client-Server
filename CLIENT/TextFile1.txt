private void btn_connect_Click(object sender, EventArgs e)
        {
            if (!string.IsNullOrEmpty(txtBox_ipBox.Text))
            {
                try
                {
                    if (client == null)
                    {
                        client = new SimpleTcpClient(txtBox_ipBox.Text);
                        client.Events.Connected += Events_Connected;
                        client.Events.Disconnected += Events_Disconnected;
                        client.Events.DataReceived += Events_DataReceived;
                        btn_sendMess.Enabled = false;
                    }
                    client.Connect();
                    btn_sendMess.Enabled = true;
                    btn_connect.Enabled = false;
                }
                catch (Exception ex)
                {
                    MessageBox.Show(ex.Message, "Message", MessageBoxButtons.OK, MessageBoxIcon.Error);
                }
            }
        }
      
        private void ClientApp_Load(object sender, EventArgs e)
        {
            btn_sendMess.Enabled = false;
        }

        private void Events_DataReceived(object sender, DataReceivedEventArgs e)
        {
            this.Invoke((MethodInvoker)delegate
            {
                txtBox_serverChat.Text += $"Server: {Encoding.UTF8.GetString(e.Data)} {Environment.NewLine}";
                //MessageBox.Show("RECIVED");
            });

        }

        private void Events_Disconnected(object sender, ClientDisconnectedEventArgs e)
        {
            this.Invoke((MethodInvoker)delegate
            {
                txtBox_serverChat.Text += $"Server disconnected {Environment.NewLine}";
            });
        }

        private void Events_Connected(object sender, ClientConnectedEventArgs e)
        {
            this.Invoke((MethodInvoker)delegate
            {
                txtBox_serverChat.Text += $"Server connected {Environment.NewLine}";
            });
        }

        private void btn_sendMess_Click(object sender, EventArgs e)
        {
            if (client.IsConnected)
            {
                if (!string.IsNullOrEmpty(txtBox_message.Text))
                {
                    client.Send(txtBox_message.Text);
                    txtBox_serverChat.Text += $"Me: {txtBox_message.Text}{Environment.NewLine}";
                    txtBox_message.Text = string.Empty;
                }
            }
        }
    }


                if (e.cmd.Equals("chat") == true)
            {
                txtBox_serverChat.Text += $"Server:{e.sb_buffer}{Environment.NewLine}";
            }
            else if (e.cmd.Equals("pict") == true)
            {
                e.sw.Seek(0, SeekOrigin.Begin);

                Directory.CreateDirectory("SavedAvatar");

                byte[] nameByteArr = new byte[53];
                e.sw.Read(nameByteArr, 0, 52);
                string imageName = Encoding.ASCII.GetString(nameByteArr);

                string invalid = new string(Path.GetInvalidFileNameChars()) + new string(Path.GetInvalidPathChars());
                txtBox_serverChat.Text += $@"SavedAvatar\{imageName}{Environment.NewLine}";
                foreach (char c in invalid)
                {
                    imageName = imageName.Replace(c.ToString(), "");
                }

                try
                {
                    e.sw.Seek(0, SeekOrigin.Begin);
                    using (Stream file = File.Create(@"SavedAvatar\" + imageName))
                    {
                        e.sw.Seek(52, SeekOrigin.Begin);
                        e.sw.CopyTo(file);
                        file.Close();
                    }
                }
                catch (Exception exception)
                {
                    textBox_log.Text += $"{exception.Message} {Environment.NewLine}";
                }
                using (Stream stream = File.OpenRead(@"SavedAvatar\" + imageName))
                {
                    Image avatar = Image.FromStream(stream);
                    pictureBox_avatar.Image = avatar;
                }
            }
            else if (e.cmd.Equals("xmls") == true)
            {
                txtBox_serverChat.Text += $"Da nhan dc xmls {Environment.NewLine}";

                e.sw.Seek(0, SeekOrigin.Begin);
                using (Stream file = File.Create(@"info.xml", 1024))
                {
                    file.Seek(0, SeekOrigin.Begin);
                    e.sw.CopyTo(file);
                    file.Close();
                }
            }